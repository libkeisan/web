var plugin=(()=>{var n=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var o=Object.getOwnPropertyNames;var h=Object.prototype.hasOwnProperty;var l=(e,t)=>{for(var a in t)n(e,a,{get:t[a],enumerable:!0})},d=(e,t,a,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of o(t))!h.call(e,s)&&s!==a&&n(e,s,{get:()=>t[s],enumerable:!(r=u(t,s))||r.enumerable});return e};var p=e=>d(n({},"__esModule",{value:!0}),e);var f={};l(f,{default:()=>w});var i=class{constructor(){this.raw=keisan.load("rates.json"),this.raw||this.fetch(),this.data=JSON.parse(this.raw),this.data.time_next_update_unix<Date.now()/1e3&&this.fetch()}fetch(){keisan.log("Fetching currency data");let t=keisan.get("https://open.er-api.com/v6/latest/USD");if(!t||t.status!==200)throw new Error("Failed to fetch currency data");this.raw=t.body,this.data=JSON.parse(this.raw),keisan.save("rates.json",this.raw)}get(t){let a=this.data?.rates||{};return parseFloat(a[t])||0}},w={rules:["NUMBER IDENT[3] (I_TO | I_AS | I_IN) IDENT[3] -> currency"],action:(e,t)=>{let a=new i,r=a.get(t[1].value),s=a.get(t[3].value);if(!r||!s)return null;let c=t[0].value;return c.value*=s/r,[{type:"NUMBER",value:c},{type:"IDENT",value:t[3].value}]}};return p(f);})();
